---
resources:

- name: install-pas-pipeline
  type: git
  source:
    uri: https://github.com/mevansam/automation-pipelines.git
    branch: master
    paths: 
    - pcf/install-pas/bootstrap/gcp/pipeline/**
    - pcf/install-pas/pipeline/**

jobs:
- name: configure-install-pas-pipeline
  public: false
  plan:
  - aggregate:
    - get: install-pas-pipeline
      trigger: true
  - task: configure
    file: install-pas-pipeline/pcf/install-pas/bootstrap/gcp/pipeline/tasks/configure-install-pas-pipeline/task.yml
    params:
      IAAS_TYPE: {{iaas_type}}
      CONCOURSE_URL: {{concourse_url}}
      CONCOURSE_USER: {{concourse_user}}
      CONCOURSE_PASSWORD: {{concourse_password}}
      GOOGLE_PROJECT: {{google_project}}
      GOOGLE_CREDENTIALS_JSON: {{google_credentials_json}}
      GOOGLE_REGION: {{google_region}}
      BOOTSTRAP_STATE_BUCKET: {{bootstrap_state_bucket}}
      BOOTSTRAP_STATE_PREFIX: {{bootstrap_state_prefix}}
      PCF_PAS_RUNTIME_TYPE: {{pcf_pas_runtime_type}}
